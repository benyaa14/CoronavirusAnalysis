%%Do the number of tests helped to minimize the infection?
%%Compare between the countries:

%get data
t_spain=dataa_t_s()
i_spain=dataa_i_s()
t_canada=dataa_t_c()
i_canada=dataa_i_c()
x_t_canada=linspace(1,length(t_canada),length(t_canada))
x_i_canada=linspace(11,11 + length(i_canada),length(i_canada))
x_t_spain=linspace(1,20 + length(t_spain),length(t_spain))
x_i_spain=linspace(1,length(i_spain),length(i_spain))


%canada close edu = 23/03/2020

num_test_when_edu_close_c=12360.32654
index_edu_canada=find(t_canada==num_test_when_edu_close_c)


%spain close edu = 13/03/2020 
num_inf_when_edu_close_s=77185.75003
index_edu_spain=find(i_spain==num_inf_when_edu_close_s)


%Plot
subplot(2,1,1)
plot(x_i_canada,i_canada,'-b',x_t_canada,t_canada,'-r','LineWidth',1.5)
hold on
plot(index_edu_canada,t_canada(index_edu_canada),'*','MarkerSize',7)
legend('infections','tests','Education closed','Location','NorthWest')
hold off
title('Canada: Tests vs Infections')
xlabel('Days since first test')
ylabel('Number of tests/infections')

subplot(2,1,2)
plot(x_i_spain,i_spain,'-b',x_t_spain,t_spain,'-r','LineWidth',1.5)
hold on
plot(index_edu_spain,i_spain(index_edu_spain),'*r','MarkerSize',7)
legend('infections','tests','Education closed','Location','NorthWest')
hold off


title('Spain: Tests vs Infections')
xlabel('Days since first infection')
ylabel('Number of tests/infections')

%% Conclusions:
% 1) While the countries increase the number of tests the number of
% infections decrease.
% There are probably a lot of infections and only when the country
% increases the number of tests you can pay attention to this.
% 2) In Spain the number of infections decreases right after they close the
% education compare to Canada that it took a month.
% We can learn that in Canada the number of tests effected more 

function y=dataa_t_c
    y=[9.708750267 %31/01/20
9.708750267
19.41750053
29.1262508
38.83500107
48.54375134
58.2525016
67.96125187
77.67000214
87.3787524
97.08750267
106.7962529
116.5050032
126.2137535
135.9225037
145.631254
155.3400043
165.0487545
174.7575048
184.4662551
194.1750053
203.8837556
213.5925059
223.3012561
233.0100064
242.7187567
252.4275069
262.1362572
271.8450075
281.5537577
291.262508
312.0912587
332.9200094
353.7487601
374.5775108
663.5085634
952.4396159
1241.370668
1909.117171
2576.863674
3244.610177
3912.356679
4737.979184
5563.601688
6389.224192
7214.846697
8040.469201
8866.091705
9691.714209
10358.86729
11026.02038
11693.17346
12360.32654
13027.47963
13694.63271
14361.7858
14250.38783
14138.98987
14027.59191
13916.19394
13804.79598
13693.39802
13582.00005
13261.57148
12941.14291
12620.71433
12300.28576
11979.85719
11659.42862
11339.00004
12030.07144
12721.14285
13412.21425
14103.28565
14794.35705
15485.42845
16176.49986
17189.70051
18202.90117
19216.10182
20229.30248
21242.50313
22255.70379
23268.90444
23477.99969
23687.09494
23896.19019
24105.28544
24314.38069
24523.47594
24732.57119
25032.5848
25332.59841
25632.61202
25932.62563
26232.63924
26532.65284
26851.90455
26851.90455
26851.90455 %09/05/2020

]       
end 

 function y=dataa_i_c
    y=[2.178448911 % 10/02/2020
2.163981808
2.271129894
2.263924397
2.112807034
0
0
2.014050851
1.973305774
2.112709891
2.108609789
1.988364983
0.132224163
0.438322265
1.221428088
3.002930221
6.822119153
14.87811363
31.82440089
66.4025237
130.7217191
232.6558786
364.7031035
504.4311105
628.5910733
724.2993327
793.1309385
853.5107427
934.7795627
1063.339832
1256.258242
1525.428291
1881.338246
2330.643126
2869.435972
3478.211264
4123.913509
4769.4801
5385.611159
5959.794418
6500.681638
7037.844293
7616.172799
8284.857593
9081.675855
10015.08047
11050.05229
12107.77144
13086.60676
13898.90724
14504.71007
14922.17447
15209.19899
15428.12494
15616.62151
15782.96307
15926.02156
16060.29894
16223.41154
16458.83706
16787.25966
17188.62978
17608.57359
17984.58967
18274.16152
18469.01575
18593.30223
18694.80092
18838.57065
19104.18848
19392.05506
19563.96326
19610.04032
19528.01287
19177.43983
18675.98943
18147.89906
17573.02495
16899.73188
16142.95506
15357.48851
14687.07627
14106.81843
13524.62386
13464.0502
13376.21621
12923.75114
12891.87218
12870.26348
12398.36037 %09/05/2020

]

 end
 
 function y= dataa_t_s
 y=[1047.359736 %31/01/20
1047.359736
1047.359736
1047.359736
1396.479648
1745.59956
2094.719472
2443.839384
2792.959295
3142.079207
3491.199119
3840.319031
4189.438943
4538.558855
4887.678767
5236.798679
5585.918591
5935.038503
6284.158415
6633.278327
6982.398239
7331.518151
7680.638062
8029.757974
8378.877886
8727.997798
9077.11771
9426.237622
9775.357534
10124.47745
10473.59736
10822.71727
11171.83718
11520.95709
11870.07701
12219.19692
12568.31683
12917.43674
13266.55665
13615.67657
13964.79648
14313.91639
14663.0363
15012.15621
15361.27612
15710.39604
16059.51595
16408.63586
16757.75577
17106.87568
17455.9956
17805.11551
18154.23542
18503.35533
18852.47524
19201.59516
19550.71507
19899.83498
20248.95489
20598.0748
20947.19472
21296.31463
21645.43454
21994.55445
22343.67436
22692.79428
23041.91419
23294.07223
23546.23027
23798.38832
24050.54636
24302.70441
24554.86245
24807.02049
24461.24702
24115.47354
23769.70006
23423.92659
23078.15311
22732.37963
22386.60616
27838.92894
33291.25173
38743.57451
44195.8973
49648.22008
55100.54287
60552.86565
63815.85576
67078.84587
70341.83597
73604.82608
76867.81618
80130.80629
83393.7964
83393.7964
83393.7964
83393.7964
84242.72873
85091.66107 %09/05/20

     
 ]
 
 end
 
 function y= dataa_i_s
 y=[1.828139606 %11/01/2020
1.805029053
1.941835201
1.93251926
1.793427028
0
0
0
0
1.71410201
1.731363085
1.886761178
1.90479642
1.803158718
0.135331826
0.108016917
0.075200248
0.045190088
0.023090829
0.009822791
25.28181446
25.0199274
26.97126834
26.96082038
25.03277683
0.217648089
0.17365186
0.121297694
0.077653044
0.068039765
0.14896113
0.455821491
1.284025954
3.249972208
7.688407226
17.71504312
40.94829573
126.2838988
263.2347517
535.1602338
998.8201644
1687.426659
2580.754712
3725.053785
5110.466414
6770.783259
8775.123066
11221.99939
14217.34638
17860.27904
22230.31309
27360.23287
33193.61878
39553.8194
46149.42556
52623.33159
58627.452
63897.69367
68295.39305
71795.81179
74432.2202
76231.90908
77185.75003
77274.39234
76531.49576
75091.51498
73177.86914
71031.36182
68826.09307
66633.96162
64462.68524
62330.57885
60311.05447
58506.70506
56972.467
55649.19615
54363.45916
52901.506
51113.053
48981.03016
46618.51338
44201.51769
41883.47249
39740.49407
37769.84707
35927.59097
34171.28507
32478.82022
30839.87754
29238.75287
27651.70266
26065.15783
24500.78187
23024.40802
21727.40508
20689.65906
19947.35473
19484.7331
19251.69352
19194.17593
19275.49516
19288.94291
18708.33989
17979.18214
17017.5318
15855.96942
14717.97013
14068.2294
13446.56756
12851.73195
12215.16908
11510.44363
10774.62649
9884.86333
9277.013568
9157.674846
8868.502898
8357.365541
8017.730821
7742.813417 %09/05/2020


    

     
 ]
 
 end
 